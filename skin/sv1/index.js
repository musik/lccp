define("common/ui/Control",[],function(){var e=baidu,t=e.event;e.dom.getAncestorByClass=e.dom.getAncestorByClass||function(e,t){e=baidu.dom.g(e),t=new RegExp("(^|\\s)"+baidu.string.trim(t)+"(\\s|$)");while((e=e.parentNode)&&e.nodeType===1)if(t.test(e.className))return e;return null};var n=t._eventFilter=t._eventFilter||{};n._crossElementBoundary=n._crossElementBoundary||function(e,t){var n=t.relatedTarget,r=t.currentTarget;if(n===!1||r===n||n&&(n.prefix==="xul"||baidu.dom.contains(r,n)))return;return e.call(r,t)},e.fn.bind=e.fn.bind||function(e,t){var n=arguments.length>2?[].slice.call(arguments,2):null;return function(){var r=baidu.lang.isString(e)?t[e]:e,i=n?n.concat([].slice.call(arguments,0)):arguments;return r.apply(t||r,i)}},n.mouseenter=window.attachEvent?null:n.mouseenter||function(e,t,r){return{type:"mouseover",listener:baidu.fn.bind(n._crossElementBoundary,this,r)}},n.mouseleave=window.attachEvent?null:n.mouseleave||function(e,n,r){return{type:"mouseout",listener:baidu.fn.bind(t._eventFilter._crossElementBoundary,this,r)}},e.page.getScrollLeft=e.page.getScrollLeft||function(){var e=document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft};var r=function(e,t){var n=-1;for(var r=0,i=e.length;r<i;r++)if(e[r]===t){n=r;break}return n};e.array.indexOf||(e.array.indexOf=r);var i=function(){this.children=[],this._listners={},this.fire("beforeinit"),this.bindEvents(this.binds),this.init.apply(this,arguments),this.fire("afterinit")};return i.prototype={constructor:i,type:"Control",disabled:!1,setOptions:function(t){if(!t)return this.options;var n=e.object,r=this.options=n.clone(this.options),i=/^on[A-Z]/,s=this,o=n.extend;return this.srcOptions=t,n.each(t,function(e,u){if(i.test(u)&&typeof e=="function"){var a=u.charAt(2).toLowerCase()+u.substr(3);s.on(a,e),delete t[u]}else u in r&&(r[u]=n.isPlain(e)?o(r[u]||{},e):e)}),r},bindEvents:function(t){var n=this;if(!t||!t.length)return;typeof t=="string"&&(t=t.split(/\s*,\s*/)),e.each(t,function(e,t){t=e&&n[e],t&&(n[e]=function(){return t.apply(n,arguments)})})},init:function(){throw new Error("not implement init")},render:function(){throw new Error("not implement render")},appendTo:function(e){this.main=e||this.main,this.render()},query:function(t,n){return e.q(t,this.main,n)},disable:function(){this.disabled=!0,this.fire("disable")},enable:function(){this.disabled=!1,this.fire("enable")},isDisabled:function(){return this.disabled},addChild:function(e,t){var n=this.children;t=t||e.childName,t&&(n[nane]=e),n.push(e)},removeChild:function(t){e.object.each(this.children,function(e,n){e===t&&delete this[n]})},getChild:function(e){return this.children[e]},initChildren:function(){throw new Error("not implement initChildren")},on:function(t,n){e.isString(t)||(n=t,t="*");var i=this._listners[t]||[];return r(i,n)<0&&(n.$type=t,i.push(n)),this._listners[t]=i,this},un:function(t,n){e.isString(t)||(n=t,t="*");var i=this._listners[t];if(i)if(n){var s=r(i,n);~s&&delete i[s]}else i.length=0,delete this._listners[t];return this},fire:function(t,n){var r=this._listners[t];return r&&e.array.each(r,function(e){n=n||{},n.type=t,e.call(this,n)},this),t!=="*"&&this.fire("*",n),this},dispose:function(){this.fire("dispose");var e;while(e=this.children.pop())e.dispose();for(var t in this._listners)this.un(t)}},i}),define("common/ui/Select",["require","./Control"],function(e){var t=baidu,n=e("./Control"),r=function(){this.constructor.superClass.constructor.apply(this,arguments)};return r.prototype={constructor:r,type:"select",options:{main:"",prefix:"ui-select",showflag:!1,value:"5",text:"5万元",showtype:"text",onafterselect:null,data:[]},binds:"onclick, onblur",getObj:function(e){var t=this.data,n=null;return baidu.each(t,function(t){t.value==e&&(n=t)}),n},init:function(e){var e=this.setOptions(e);this.data=e.data,this.prefix=e.prefix,this.text=e.text,e.main&&(this.main=t.g(e.main),t.addClass(this.main,this.prefix),t.on(this.main,"click",this.onclick));var n=t.q(this.prefix+"-value",this.main)[0];this.value=t.dom.getAttr(n,"value")||e.value,t.dom.setAttr(n,"value","");var r=this.getObj(this.value);this.render(),this.setValue(r)},onafterselect:function(){var e=this.options;e.onafterselect&&typeof e.onafterselect=="function"&&e.onafterselect()},show:function(){var e=this.options,n=t.q(this.prefix+"-show",this.main)[0];n.style.display="block",this.options.showflag=!0,t.on(document,"click",this.onblur)},hide:function(){var e=this.options,n=t.q(this.prefix+"-show",this.main)[0];n.style.display="none",this.options.showflag=!1,t.un(document,"click",this.onblur)},hasClass:function(e,n,r){for(;;){if(e===r||e===document)return!1;if(e&&t.dom.hasClass(e,n))return!0;if(!e)return!0;e=e.parentNode}},getValue:function(){return this.value},setValue:function(e){var n=t.q(this.prefix+"-value",this.main)[0];typeof e!="object"&&(e=this.getObj(e));var r=e.text.split(" ");r.length==1?n.innerHTML=e.text:n.innerHTML=r[1],this.text=e.text,this.value=e.value,this.render()},setData:function(e){this.data=e,this.options.data=e,this.options.value=e[0].value,this.render()},getText:function(){return this.text},onblur:function(e,n){e&&t.event.preventDefault(e),n=n||t.event.getTarget(e),this.main!=t.dom.getAncestorByClass(n,this.prefix)&&this.hide()},build:function(){var e=[],t=this.data,n=this.options;for(var r=0,i=t.length;r<i;r++){var s="",o="";r===t.length-1&&(o=' style="border-bottom: 0"'),this.value==t[r].value&&(s=' class="'+this.prefix+'-select"'),e.push("<span"+o+">"+'<a data-value="'+t[r].value+'"'+s+">"+t[r].text+"</a></span>")}return e.join("")},render:function(){var e=this.main,n=this.options,r=this.build(),i=t.q(this.prefix+"-show",this.main)[0];i?i.innerHTML=r:(i=t.dom.create("DIV",{className:this.prefix+"-show"}),i.innerHTML=r,e.appendChild(i))},onclick:function(e,n){e&&t.event.preventDefault(e),n=n||t.event.getTarget(e);var r=this.options,i=this.main;if(this.hasClass(n,this.prefix+"-box",i))r.showflag?this.hide():this.show();else if(n.tagName==="A"){var s=n.childNodes[0].nodeValue,o=t.dom.getAttr(n,"data-value");this.setValue({value:o,text:s}),r.tabIndex=1,this.hide(),this.render(),this.onafterselect()}}},t.inherits(r,n),r}),define("common/ui/City",["require","./Control"],function(e){var t=baidu,n=e("./Control"),r=function(){this.constructor.superClass.constructor.apply(this,arguments)};return r.prototype={constructor:r,type:"city",options:{main:"",prefix:"ui-city",tabIndex:1,tabSelectClass:"select",showflag:!1,value:"北京",onafterselect:null,data:[]},binds:"onclick, onblur",init:function(e){e=this.setOptions(e),this.data=e.data;var e=this.options;e.main&&(this.main=t.g(e.main),this.prasedata(),t.addClass(this.main,e.prefix),t.on(this.main,"click",this.onclick)),this.render();var n=t.q(e.prefix+"-value",this.main)[0];this.options.value=n.innerHTML||e.value},show:function(){var e=t.q(this.options.prefix+"-show",this.main)[0];e.style.display="block",this.options.showflag=!0,t.on(document,"click",this.onblur)},hide:function(){var e=t.q(this.options.prefix+"-show",this.main)[0];e.style.display="none",this.options.showflag=!1,t.un(document,"click",this.onblur)},hasClass:function(e,n,r){for(;;){if(e==r||e==document)return!1;if(e&&t.dom.hasClass(e,n))return!0;if(!e)return!0;e=e.parentNode}},getValue:function(){return this.options.value},setValue:function(e){var n=t.q(this.options.prefix+"-value",this.main)[0];n.childNodes[0].nodeValue=e,this.options.value=e},prasedata:function(){var e=this.data,n=this.tabs=[];t.array.forEach(e,function(e){var t=e.split("|");n.push({title:t[0],items:t[1].split(",")})})},onblur:function(e,n){e&&t.event.preventDefault(e),n=n||t.event.getTarget(e),this.hasClass(n,this.options.prefix,document)||this.hide()},build:function(){var e=[],n=this.tabs,r=this.options,i=n[0].items,s=n[r.tabIndex].items;e.push("<label>热门城市</label><ul>"),t.array.forEach(i,function(t){e.push("<li>"+t+"</li>")}),e.push('</ul><label>全部城市</label><div class="'+r.prefix+'-tabs">');for(var o=1,u=n.length;o<u;o++){var a="";o===r.tabIndex&&(a='class="'+r.prefix+"-"+r.tabSelectClass+'"'),e.push("<a "+a+">"+n[o].title+"</a>")}return e.push("</div><ul>"),t.array.forEach(s,function(t){e.push("<li>"+t+"</li>")}),e.push("</ul>"),e.join("")},render:function(){var e=this.main,n=this.options,r=this.build(),i=t.q(n.prefix+"-show",this.main)[0];i?i.innerHTML=r:(i=t.dom.create("DIV",{className:this.options.prefix+"-show"}),i.innerHTML=r,e.appendChild(i))},onclick:function(e,n){e&&t.event.preventDefault(e),n=n||t.event.getTarget(e);var r=this.options,i=this.main;if(this.hasClass(n,r.prefix+"-box",i))r.showflag?this.hide():this.show();else if(n.tagName==="A"){var s=t.q(r.prefix+"-tabs",this.main)[0].childNodes;for(var o=0,u=s.length;o<u;o++)s[o]===n&&(r.tabIndex=o+1,this.render())}else if(n.tagName==="LI"){var a=n.childNodes[0].nodeValue;this.setValue(a),r.tabIndex=1,this.hide(),this.render(),r.onafterselect&&typeof r.onafterselect=="function"&&r.onafterselect()}}},t.inherits(r,n),r}),define("common/ui/log",["require","./Control"],function(e){var t=baidu,n=t.dom;e("./Control");var r=function(e){try{return t.json.parse(e||"{}")}catch(n){return{}}},i=function(){var e=[],n=function(e){return encodeURIComponent(e)};return function(r){var i=e.push(new Image)-1;e[i].onload=e[i].onerror=function(){e[i]=e[i].onload=e[i].onerror=null,delete e[i]};var s=o.action+t.url.jsonToQuery(r,n);e[i].src=s,f.fire("send",{url:s})}}(),s=function(e,n,i){var s,o,u=0,a=n,f=[],l=0,c,h=/\bOP_LOG_(TITLE|LINK|IMG|BTN|INPUT|OTHERS)\b/i;while(a!==i){if(a.getAttribute("data-nolog")==="1"){u=1;break}c=a.getAttribute("data-click"),c&&(e=t.extend(r(c),e)),a.href&&(o=a.href,s="link"),s==="link"&&a.tagName==="H3"&&(s="title"),h.test(a.className)&&(s=RegExp.$1.toLowerCase());var p=1;if(a.previousSibling){var d=a.previousSibling;do d.nodeType===1&&d.tagName===a.tagName&&p++,d=d.previousSibling;while(d)}f[l++]=a.tagName+(p>1?p:""),a=a.parentNode}n!==i&&(c=i.getAttribute("data-click"),c&&(e=t.extend(r(c),e)));if(u)return!u;f.reverse();var v=n.tagName.toLowerCase();!s&&/^a|img|input|button|select|datalist|textarea$/.test(v)&&(s={a:"link"}[v]||"input",o=n.href||n.src||o);if(!s)return!1;var m=i.getAttribute("mu")||"";e.mu=m,s==="title"&&delete e.mu;if(!o||o.slice(-1)==="#")o=m;o&&(e.url=o);var g="";if(s==="input")if(/input|textarea/.test(v))g=n.value,n.type&&n.type.toLowerCase()==="password"&&(g="");else if(/select|datalist/.test(v)){if(n.children.length>0){var y=n.selectedIndex||0;g=n.children[y>-1?y:0].innerHTML}}else g=n.innerHTML||n.value||"";else{v==="img"&&(g=n.title);if(!g){a=n;while(l>0){l--;if(/^a\d*\b/i.test(f[l])){o=a.href,g=a.innerHTML;break}if(a.className&&/\bOP_LOG_[A-Z]+\b/.test(a.className)){g=a.innerHTML;break}a=a.parentNode}}}return e.title=t.trim(g),e.rsv_xpath=f.join("-").toLowerCase()+"("+s+")",e.rsv_height=i.offsetHeight,e.path=location.href,e},o={action:"http://sclick.baidu.com/w.gif?",main:"result-op",title:"OP_LOG_TITLE",link:"OP_LOG_LINK",img:"OP_LOG_IMG",btn:"OP_LOG_BTN",input:"OP_LOG_INPUT",others:"OP_LOG_OTHERS",data:{p1:1}},u=function(e,n){var i=r(e.getAttribute("data-click"));i.p5=n,e.setAttribute("data-click",t.json.stringify(i))},a=function(e,a){var l=a||t.event.getTarget(e),c=o.main,h=n.hasClass(l,c)?l:n.getAncestorByClass(l,c);if(!h||h.getAttribute("data-nolog")==="1")return;var p=l.getAttribute("data-click");p&&(p=r(p)),p=s(p||{},l,h);if(!p)return;o.data&&(p=t.extend(t.extend({},o.data),p)),"p5"in p||t.each(t.q(o.main),function(e,t){e===h&&(p.p5=t+1),u(e,t+1)}),p.t=(+(new Date)).toString(36),f.fire("click",{data:p,target:l,main:h}),i(p)},f={config:function(e){t.extend(o,e)},start:function(){t.on(document,"mousedown",a)},stop:function(){t.un(document,"mousedown",a)},click:function(e){a(null,e)},send:i},l=t.lang.Class.prototype;return t.extend(f,{on:l.addEventListener,un:l.removeEventListener,fire:l.dispatchEvent}),f}),define("index",["require","common/ui/Select","common/ui/City","common/ui/log"],function(e){var t=e("common/ui/Select"),n=e("common/ui/City"),r=e("common/ui/log"),i=null,s={},o={},u=null,a=function(){baidu.each(baidu.dom.query(".type"),function(e){baidu.on(e,"mouseover",function(e){var t=this,n=baidu.dom.getAttr(t,"target"),r=baidu.g(n),i=t.parentNode.parentNode.parentNode;baidu.dom.removeClass(baidu.dom.query(".type-nowat")[0],"type-nowat"),baidu.dom.addClass(t,"type-nowat"),baidu.each(baidu.dom.query(".detail"),function(e){baidu.dom.hide(e)}),baidu.dom.show(r),baidu.dom.setAttr(i,"class",""),baidu.dom.addClass(i,"filters-area-"+n),baidu.each(baidu.dom.query(".type-icon"),function(e){var t=e.className;e.className=t.replace(/-nowat/g,"-normal")});var s=baidu.dom.first(t);s.className=s.className.replace(/-normal/g,"-nowat")})}),baidu.each(baidu.dom.query(".home-main-btn"),function(e){baidu.on(e,"click",function(t){var n=baidu.dom.getAncestorByClass(e,"detail"),r=baidu.dom.getAttr(n,"id"),i={},a=s[r+"Ui"];switch(r){case"loan":i={city:a.city.getValue(),money:a.money.getValue(),deadline:a.deadline.getValue(),category:a.use.getValue()};break;case"wealth":i={amount:a.amount.getValue(),cycle:a.cycle.getValue(),profitRate:a.profitRate.getValue()};break;case"insurance":i={category:a.insurance.getValue(),ref:a.ensure.getValue()}}var f=[];for(var l in i)f.push(l+"="+encodeURIComponent(i[l]));u=baidu.dom.create("a",{target:"_blank",href:o[r+"Url"]+(o[r+"Url"].indexOf("?")==-1?"?":"&")+f.join("&")}),document.body.appendChild(u),u.click(),document.body.removeChild(u)})})},f=function(e,t){r.config({data:{q:t.query||"-",item:"-",p1:"-",mod:"-",act:"-",sid:e.sid||"-",psid:e.pssid||"-",qid:e.qid||"-",rqid:e.subqid||"-",pvid:e.pvid||"-",fr:t.fr||"-",cat:"home",page:"-",url:window.location.href,pid:"368"},action:"http://nsclick.baidu.com/v.gif?"}),r.onclick=function(e){var t=e.target,n=e.data;n.txt=t&&t.innerHTML||n.title||"-",n.xpath=n.rsv_xpath,n.pn=1,n.mu||delete n.mu,delete n.p5,delete n.title,n.mu||delete n.mu,delete n.p5;if(baidu.dom.hasClass(t,"search-submit-btn")){var r=baidu.dom.getAncestorByClass(t,"detail"),i=baidu.dom.getAttr(r,"id"),u={},a=s[i+"Ui"];switch(i){case"loan":u={city:a.city.getValue(),money:a.money.getValue(),deadline:a.deadline.getValue(),category:a.use.getValue()};break;case"wealth":u={amount:a.amount.getValue(),cycle:a.cycle.getValue(),profitRate:a.profitRate.getValue()};break;case"insurance":u={category:a.insurance.getValue(),ref:a.ensure.getValue()}}var f=[];for(var l in u)f.push(l+"="+encodeURIComponent(u[l]));n.url=o[i+"Url"]+(o[i+"Url"].indexOf("?")==-1?"?":"&")+f.join("&")}},r.start()},l=function(e,r,i){var o=function(e){var t=function(e){baidu.each(e,function(e){e.text=e.name})};for(var n in e)if(n.indexOf("List")!=-1){var r=baidu.json.parse(e[n]);t(r),e[n]=r}else if(n=="cities"){var r=baidu.json.parse(e[n]);e[n]=r}};o(e),o(r),o(i),baidu.each(i.insuranceList,function(e){baidu.each(e.ensure.ensureList,function(e){e.text=e.name})});var u={},a=function(e){u.city=new n({main:"loan-city",prefix:"ui-city",data:e.cities,onafterselect:function(){}}),u.money=new t({main:"loan-money",prefix:"ui-select",data:e.moneyList,showtype:"text"}),u.deadline=new t({main:"loan-deadline",prefix:"ui-select",data:e.deadlineList,showtype:"text"}),u.use=new t({main:"loan-use",prefix:"ui-select",data:e.useList,showtype:"text"})};a(e);var f={},l=function(e){f.amount=new t({main:"wealth-amount",prefix:"ui-select",data:e.amountList,showtype:"text"}),f.cycle=new t({main:"wealth-cycle",prefix:"ui-select",data:e.cycleList,showtype:"text"}),f.profitRate=new t({main:"wealth-break-even",prefix:"ui-select",data:e.profitRateList,showtype:"text"})};l(r);var c={},h=function(e){c.insurance=new t({main:"insurance-insurance",prefix:"ui-select",data:e.insuranceList,showtype:"text",onafterselect:function(){var t=c.insurance.getValue(),n=[],r=null;baidu.each(e.insuranceList,function(e){t==e.value&&(r=e.ensure,n=e.ensure.ensureList)}),c.ensure.setData(n),c.ensure.setValue(r.ensureValue)}}),c.ensure=new t({main:"insurance-ensure",prefix:"ui-select",data:e.insuranceList[0].ensure.ensureList,showtype:"text",value:e.insuranceList[0].ensure.ensureValue})};h(i),s={loanUi:u,insuranceUi:c,wealthUi:f};for(var p in s)for(var d in s[p]){var v=baidu.dom.getParent(s[p][d].main);baidu.dom.setStyle(v,"visibility","")}},c=function(e,t,n,r,s,u,c,h){o=s,l(t,n,r),a();var p=[u+"asset/img/home-ads/wealth-ad.jpg",u+"asset/img/home-ads/insurance-ad.jpg"];baidu.each(p,function(e){var t=new Image;t.src=e}),i=baidu.url.queryToJson(window.location.href),i.query&&(i.query=decodeURIComponent(i.query)),i.wd&&(i.wd=decodeURIComponent(i.wd)),f(e,i),c=c&&c-0||0,h=h&&h-0||0;var d=new Anti(baidu.dom.query(".home-body-loan")[0]);d.setTimesign(c),d.bind();var v=new Anti(baidu.dom.query(".home-body-wealth")[0]);v.setTimesign(h),v.bind()};return{enter:c}});